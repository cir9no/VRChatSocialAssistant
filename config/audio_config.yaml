# 音频采集配置

audio:
  # 采样率 (Hz) - 16kHz 是语音转文本的标准采样率
  samplerate: 16000
  
  # 声道数 - 1 为单声道, 2 为立体声
  channels: 1
  
  # 缓冲区大小 (采样点数)
  # 480 采样点 @ 16kHz = 30ms
  chunk_size: 480
  
  # 音频格式 (paInt16, paFloat32 等)
  format: "paInt16"
  
  # 设备设置 (null 表示自动选择，或手动指定)
  # 运行测试脚本查看可用设备索引
  wasapi_loopback_device: null  # WASAPI Loopback 设备索引 (系统音频)
  microphone_device: null  # 麦克风设备索引

# 音频预处理
preprocessing:
  # 启用降噪
  enable_noise_reduction: false
  
  # 启用增益控制
  enable_gain_control: false
  
  # 音量阈值 (低于此值视为静音)
  silence_threshold: 0.01

# VAD (语音活动检测) 配置
vad:
  # VAD 模型类型
  model_type: "silero"  # silero / webrtc
  
  # 推理设备
  device: "cpu"  # cpu / cuda
  
  # 语音检测阈值 (0.0-1.0)
  # 提高阈值减少误检，降低阈值提高灵敏度
  threshold: 0.5
  
  # 最小语音片段时长 (毫秒)
  # 过短的语音片段会被过滤
  min_speech_duration_ms: 250
  
  # 最大语音片段时长 (毫秒)
  # 超长片段会被强制切分
  max_speech_duration_ms: 10000
  
  # 切分静音时长 (毫秒)
  # 语音间隔的静音时长
  min_silence_duration_ms: 300
  
  # 语音片段前后填充时长 (毫秒)
  # 避免切掉语音起止边缘
  speech_pad_ms: 30
  
  # 窗口大小 (样本数)
  # 必须是 Silero 支持的尺寸: 256, 512, 1024
  window_size_samples: 512
  
  # 启用自适应阈值
  adaptive_threshold: false
  
  # 调试模式（记录详细日志）
  debug: false
